﻿﻿﻿﻿﻿﻿﻿**Dokumentácia k zadaniu  z predmetu Databázové systémy ﻿﻿**# **Zadanie**Vo vami zvolenom prostredí vytvorte databázovú aplikáciu, ktorá komplexne rieši päť vami zadefinovaných scenárov (prípadov použitia) vo vami zvolenej doméne tak, aby ste demonštrovali využitie relačnej databázy.# **Opis témy**Cestovanie po svete je v dnešnej dobe veľmi populárne a vyhľadávané. Práve to nás inšpirovalo pri výbere témy našej databázovej aplikácie. Aplikácia bude slúžiť pre ľudí, ktorí radi cestujú a chcú si rýchlo a pohodlne zarezervovať hotel na dovolenku. Naša aplikácia bude poskytovať používateľom nájsť si ten správny hotel, ktorý bude vyhovovať ich požiadavkám. Tak isto si budú môcť pohodlne zaregistrovať izbu na presný termín a tiež pridať alebo odstrániť recenziu na hotel. ### **Opis návrhu  a implementácie**Programové prostredie a spojenie s databázouAplikácia je realizovaná v JAVE s databázovým serverom  PostregreSQL. Spojenie s databázou je realizované prostredníctvom Postgres JDBC driver, ktorý je k aplikácii pripojený ako externá knižnica (postgresql - 42.2.5). Ďalšie externé knižnice, ktoré sme využili:- Controlsfx - túto knižnicu využívame pri autocomplete, konkrétne funkcia bindAutocompletion- javaFX - je súčasťou java 8; vytvárame pomocou nej grafické používateľské rozhranie## Celý projekt je rozdelený do troch balíkov, ktoré obsahujú viacero tried:- balík Controller -> obsahuje triedy, ktoré zabezpečujú otváranie a zatváranie okien- balík Model -> tu sa nachádza trieda hotel, ktorá obsahuje všetky informácie o hoteloch a trieda DatabaseManagement, ktorá obsahuje všetky query, čiže všetko čo sa týka práce s databázou- balík View -> obsahuje triedy pre vytvorenie používateľských rozhraní - úvodné okno(WelcomeScreenView),  okno s tabuľkou všetkých hotelov a filtrom (HotelScreenView) a okno s detailami o hoteli (DetailHotelScreen)### Opis prvého scenáraPrvý scenár umožňuje užívateľovi selektovať medzi mestami kam chce vycestovať. Pre pohodlnejšie zadávanie mesta sme využili autocomplete, ktorý používateľovi pri zadaní prvých začiatočných písmen mesta zobrazí možnosti miest, ktoré sa začínajú na zadaný prefix. Tak isto si používateľ môže z kalendára zvoliť dátum od kedy do kedy hľadá ubytovanie. ### Opis druhého scenáraDruhý scenár umožňuje zobrazenie tabuľku so všetkými hotelmi, ktoré sa nachádzajú v meste, ktoré si používateľ vybral v prvom scenári. Tabuľka obsahuje názov hotela, presnú adresu hotela a tak isto aj počet hviezdičiek hotela. Okrem tabuľky sa v okne nachádza aj pripravený filter, pomocou ktorého si používateľ bude môcť filtrovať medzi zobrazenými hotelmi v tabuľke. Po kliknutí na konkrétny hotel v tabuľke sa používateľovi zobrazí nové okno s detailom o hoteli.### Opis tretieho scenáraV treťom scenári sa zobrazuje detail o konkrétnom hoteli v novom okne, ktorý si používateľ vybral v druhom scenári. Nové okno s detailom o hoteli vie používateľ kedykoľvek vypnúť a zobraziť si detail o inom hoteli. V detaile sa používateľ dočíta podrobné informácie o hoteli:- počet hviezdičiek- adresa hotela- city a country, kde sa hotel nachádza- kontaktné údaje hotelaV okne sa okrem detailov o hoteli nachádza aj pole recenzií, kde používateľ bude môcť pridávať recenzie na hotel. ### Opis štvrtého scenáraŠtvrtý scenár zahŕňa pridávanie do databázy. Konkrétne sa jedná o pridávanie recenzie hotela. Prihlásený používateľ môže po otvorení detailu o hoteli pridať recenziu na hotel. Recenzia zahŕňa slovné ohodnotenie hotela, personálu, pobytu a potom aj číselné ohodnotenie. ### Opis piateho scenáraPiaty scenár umožňuje zmazanie z databázy. Prihlásený používateľ môže po kliknutí na vybranú recenziu vymazať recenziu z tabuľky a tak isto daná recenzia vymaže aj z databázy. ##### DatabázaDatabáza pracuje s tabuľkami - lokalita, hotel, ohodnotenie, používateľ, služby, recenzia, izba, hotelové služby. V súčasnosti databáza pracuje s tabuľkami recenzia, tabuľkou používateľov, hotelov, lokalitou. Obsahom tabuľky LOKALITY sú stĺpce s názvami - id(primary key), mesto a krajina. V tabuľke HOTELOV sa nachádza foreign key na lokalitu, ktorý predstavuje prepojenie medzi spomenutými tabuľkami, aby bolo zreteľné, ktorý hotel sa nachádza v akej lokalite. Ďalšími stĺpcami v tabuľke hotelov sú id(primary key), kontaktné údaje (telefónne číslo, email), adresa a počet hviezdičiek. V tabuľke SLUŽIEB sa nachádzajú id služby a názov služby - služby predstvujú napríklad bazén, wellness, reštauráciu atď. Tabuľka hotelové služby je väzobnou entitou a spája tabuľku služieb a hotela. V OHODNOTENÍ sa nachádza ohodnotenie hotela - predstavujúce slovnú krátku recenziu a tiež číselné ohodnotenie, ktoré uvádzajú návštevníci. V tabuľke IZIEB sú združené všetky izby hotelov.Viac o konkrétnom dátovom modeli je uvedené na obrázku.V databáze sa aktuálne nachádza:- tabuľka lokalita: 781 824 dát- tabuľka hotel: 5 000 000 dát- tabuľka používateľ: 1 000 000 dát- tabuľka recenzií: 5 000 000 dátV každom meste sa momentálne nachádzajú 4 hotely. Do ďalších scenárov plánujeme databázu rozšíriť o ďalšie dáta a tabuľky. (viac o samotnej databáza v priečinku data)